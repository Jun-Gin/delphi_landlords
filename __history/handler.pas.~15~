unit handler;

interface

uses uDSimpleTcpClient,System.Classes,System.SysUtils,System.Generics.Collections,
FMX.Dialogs;

type  executeFunction= procedure(LStr :TStringStream) of object;

type executeHandler = class
  private

  public
  CallBackDictionary: TDictionary<int16,executeFunction>;
  procedure dealwithAfterLogin(LStr:TStringStream);
  procedure AddCallBackDictionary;
  constructor Create;
  destructor Destroy; override;
end;

type error_ack = class
  f_msg :string;
end;

var ExHandler :executeHandler;

implementation

uses game;

constructor executeHandler.Create;
begin
   CallBackDictionary:= TDictionary<int16,executeFunction>.Create;
   AddCallBackDictionary();
end;

destructor executeHandler.Destroy;
begin
   CallBackDictionary.DisposeOf;
   inherited;
end;

procedure executeHandler.AddCallBackDictionary();
begin
   CallBackDictionary.Add(2002,dealwithAfterLogin);
end;

procedure executeHandler.dealwithAfterLogin(LStr:TStringStream);
begin
//    LFrame.Visible=false;
    showMessage(LStr.DataString);
end;
end.
